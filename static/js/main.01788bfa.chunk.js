(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{32:function(e,t,a){e.exports=a(45)},43:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),l=a.n(r),s=a(1),o=a(2),i=a(6),u=function(){return c.a.createElement("div",{className:"logo"},c.a.createElement(o.b,{to:"/",className:"logo__link"},c.a.createElement("img",{src:"./img/logo.svg",alt:"logo",className:"logo__img"})))},m=function(){var e=Object(n.useCallback)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[]);return c.a.createElement("footer",{className:"footer"},c.a.createElement("div",{className:"container footer__container"},c.a.createElement(u,null),c.a.createElement("div",{className:"footer__links"},c.a.createElement(o.b,{to:"/",className:"footer__link"},"Github"),c.a.createElement(o.b,{to:"/",className:"footer__link"},"Contacts"),c.a.createElement(o.b,{to:"/",className:"footer__link"},"Rights")),c.a.createElement("div",{className:"footer__top-button-container"},c.a.createElement("p",{className:"footer__paragraph"},"Back to top"),c.a.createElement("button",{type:"button","aria-label":"BackToTop",className:"footer__top-button",onClick:e}))))},d=a(5),p=a(15),_=a(7),E=a(3),f=a.n(E),b=function(e){var t=e.title,a=e.link,r=e.exact,l=e.onMount,s=e.closeNavMenu,i=Object(n.useRef)(null);return Object(n.useEffect)((function(){l(a,i)}),[l,a,i]),c.a.createElement("li",{className:"nav__item"},c.a.createElement(o.c,{to:a,ref:i,exact:r,className:"nav__link",onClick:s,activeClassName:"nav__link--active"},t))},v=function(){var e=Object(i.h)(),t=Object(i.g)(),a=Object(i.g)().pathname;return{match:e,location:t,history:Object(i.f)(),search:new URLSearchParams(t.search),pathname:a}},h=[{title:"HHome",link:"/",exact:!0},{title:"Phones",link:"/phones",exact:!1},{title:"Tablets",link:"/tablets",exact:!1},{title:"Accessories",link:"/accessories",exact:!1}],g=function(e){var t=e.isNavOpen,a=e.closeNavMenu,r=v().pathname,l=Object(n.useState)(null),s=Object(d.a)(l,2),o=s[0],i=s[1],u=Object(n.useRef)({}),m=Object(n.useCallback)((function(e,t){u.current=Object(_.a)(Object(_.a)({},u.current),{},Object(p.a)({},e,t))}),[]);return Object(n.useEffect)((function(){var e="/".concat(r.split("/")[1]);if(u.current[e]){var t=u.current[e];i(t.current.getBoundingClientRect())}else i(null)}),[r,u]),c.a.createElement("nav",{className:f()({nav:!0,"nav--opened":t})},c.a.createElement("ul",{className:"nav__list"},h.map((function(e){var t=e.title,n=e.link,r=e.exact;return c.a.createElement(b,{key:t,title:t,link:n,exact:r,onMount:m,closeNavMenu:a})})),o&&c.a.createElement("span",{className:"nav__active-element",style:{width:"".concat(o.width,"px"),left:"".concat(o.x,"px")}})))},N=a(12),O=a.n(N),j=a(17),y=a(13),k=a(30),C=a(31),S=function(e){return{type:"SET_PRODUCTS",products:e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCTS":return t.products;default:return e}},T="https://mate-academy.github.io/react_phone-catalog/api/products",M=function(){var e=Object(j.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(T,".json"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(j.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(T,"/").concat(t,".json"));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=a(16),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FAVORITES":return[].concat(Object(R.a)(e),[t.product]);case"DELETE_FAVORITE":return e.filter((function(e){return e.id!==t.id}));default:return e}},P=function(e,t,a){return{type:"ADD_TO_CART",product:e,id:t,price:a}},I=function(e,t){return{type:"DELETE_FROM_CART",id:e,price:t}},F=function(){return{type:"RESET_CART"}},q=function(e,t){return{type:"ADD_QUANTITY",id:e,price:t}},D=function(e,t){return{type:"SUBTRACT_QUANTITY",id:e,price:t}},L={cartItems:[],price:0},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return Object(_.a)(Object(_.a)({},e),{},{cartItems:[].concat(Object(R.a)(e.cartItems),[t.product]).map((function(e){return e.id===t.id?Object(_.a)(Object(_.a)({},e),{},{quantity:1}):Object(_.a)(Object(_.a)({},e),{},{quantity:e.quantity})})),price:e.price+t.price});case"DELETE_FROM_CART":return Object(_.a)(Object(_.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.id!==t.id})),price:e.cartItems.find((function(e){return e.id===t.id})).quantity>1?e.price-e.cartItems.find((function(e){return e.id===t.id})).quantity*t.price:e.price-t.price});case"ADD_QUANTITY":return Object(_.a)(Object(_.a)({},e),{},{cartItems:e.cartItems.map((function(e){return Object(_.a)(Object(_.a)({},e),{},{quantity:e.id===t.id?e.quantity+1:e.quantity})})),price:e.price+t.price});case"SUBTRACT_QUANTITY":return Object(_.a)(Object(_.a)({},e),{},{cartItems:e.cartItems.map((function(e){return Object(_.a)(Object(_.a)({},e),{},{quantity:e.id===t.id?e.quantity-1:e.quantity})})),price:e.price-t.price});case"RESET_CART":return{cartItems:[],price:0};default:return e}},z=function(e){return{type:"SET_ERROR",error:e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return t.error;default:return e}},U=function(e){return{type:"SET_DETAILS",details:e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DETAILS":return t.details;default:return e}},Z=function(e){return{type:"SET_LOADING",status:e}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return t.status;default:return e}},V=Object(y.combineReducers)({products:w,favorites:x,details:W,cart:B,loading:G,error:H}),Y=function(e){return e.products},J=function(e){return e.favorites},Q=function(e){return e.details},K=function(e){return e.cart.cartItems},$=function(e){return e.cart.price},X=function(e){return e.loading},ee=localStorage.getItem("reduxState")?JSON.parse(localStorage.getItem("reduxState")||""):{},te=Object(y.createStore)(V,ee,Object(k.composeWithDevTools)(Object(y.applyMiddleware)(C.a)));te.subscribe((function(){localStorage.setItem("reduxState",JSON.stringify(te.getState()))}));var ae,ne=te,ce=function(e){var t=e.isNavOpen,a=e.closeNavMenu,r=Object(s.c)(J),l=Object(n.useMemo)((function(){return r.length>0}),[r.length]);return c.a.createElement("div",{className:f()({favorites:!0,favorites__mobile:t})},c.a.createElement(o.c,{to:"/favorites",className:"favorites__button",activeClassName:"favorites__button--active",onClick:a},l&&c.a.createElement("span",{className:"favorites__indicator"},r.length)))};!function(e){e.NEWEST="Newest",e.FROM_A_TO_Z="From A to Z",e.FROM_Z_TO_A="From Z to A",e.CHEAPEST="Cheapest"}(ae||(ae={}));var re="left",le="right",se="Items on page",oe="Sort by",ie=[{option:ae.NEWEST},{option:ae.FROM_A_TO_Z},{option:ae.FROM_Z_TO_A},{option:ae.CHEAPEST}],ue=[{option:"4"},{option:"8"},{option:"16"},{option:"All"}],me={phone:"phones",tablet:"tablets",favorites:"favorites"},de="phone",pe="tablet",_e="/phones",Ee="/tablets",fe="/favorites",be="/cart",ve="Hot prices",he="Brand new models",ge="You may also like",Ne="Mobile phones",Oe="Tablets",je="Favorites",ye="Cart",ke="product-price--lg",Ce=function(e){var t=e.isNavOpen,a=e.closeNavMenu,r=Object(s.c)(K),l=Object(n.useMemo)((function(){return r.length>0}),[r]),i=Object(n.useMemo)((function(){return r.reduce((function(e,t){return t.quantity+e}),0)}),[r]);return c.a.createElement("div",{className:f()({cart:!0,cart__mobile:t})},c.a.createElement(o.c,{to:be,className:"cart__button",activeClassName:"cart__button--active",onClick:a},l&&c.a.createElement("span",{className:"cart__indicator"},i)))};var Se=function(e,t){var a;return function(){for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];clearTimeout(a),a=setTimeout((function(){e.apply(void 0,c)}),t)}},we=function(){var e=v(),t=e.location,a=e.history,c=e.search,r=Object(n.useRef)(null),l=Object(n.useMemo)((function(){return c.get("query")||""}),[c]),o=c.get("sortBy"),i=Object(n.useState)(l),u=Object(d.a)(i,2),m=u[0],p=u[1],_=Object(s.c)(Y),E=Object(s.c)(J);Object(n.useEffect)((function(){return function(){return p("")}}),[t.pathname]);var f=Object(n.useCallback)(Se((function(e){c.set("query",e.toLowerCase()),c.get("query")||c.delete("query"),a.push({search:c.toString()})}),500),[]),b=Object(n.useCallback)((function(e){var t=e.target.value;p(t),f(t)}),[f]),h=Object(n.useMemo)((function(){return t.pathname===fe?E.filter((function(e){return e.name.toLowerCase().includes(l)})):_.filter((function(e){return e.name.toLowerCase().includes(l)})).slice().sort((function(e,t){switch(o){case ae.NEWEST:return e.age-t.age;case ae.FROM_A_TO_Z:return e.name.localeCompare(t.name);case ae.FROM_Z_TO_A:return t.name.localeCompare(e.name);case ae.CHEAPEST:return e.price-t.price;default:return 0}}))}),[_,l,o,E,t.pathname]),g=Object(n.useCallback)((function(){p(""),c.get("query")||c.delete("query"),a.push({search:""})}),[c,a]),N=Object(n.useCallback)((function(){g(),r&&r.current&&r.current.focus()}),[g]),O=Object(n.useCallback)((function(e){"Escape"===e.key&&N()}),[N]);return{inputValue:m,searchProducts:b,searchedProducts:h,searchReset:g,products:_,onKeyDown:O,inputEl:r,handleResetAndFocus:N}},Te=function(){var e=v().location,t=we(),a=t.inputValue,r=t.searchProducts,l=t.onKeyDown,s=t.handleResetAndFocus,o=t.inputEl,i=Object(n.useMemo)((function(){switch(e.pathname){case _e:return"phones";case Ee:return"tablets";case fe:return"favorites";default:return"products"}}),[e.pathname]);return c.a.createElement("div",{className:"search"},c.a.createElement("input",{ref:o,type:"text",value:a,className:"search__input",placeholder:"Search in ".concat(i,"..."),onChange:r,onKeyDown:l}),c.a.createElement("button",{type:"button","aria-label":"Clear input",className:f()({search__button:!0,"search__button--clear":a}),onClick:s,disabled:0===a.length}))},Me=function(e){var t=e.isNavOpen,a=e.toggleSandwich;return c.a.createElement("a",{href:"!#",className:f()({sandwich:!0,"sandwich--clicked":t}),onClick:function(e){e.preventDefault(),a()}},c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null))},Ae=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],r=t[1],l=v().location.pathname,s=Object(n.useCallback)((function(){document.body.classList.toggle("nav-open"),r(!a)}),[a]),o=Object(n.useCallback)((function(){document.body.classList.remove("nav-open"),r(!1)}),[]),i=Object(n.useMemo)((function(){return l===_e||l===Ee||l===fe}),[l]);return c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"header__container"},c.a.createElement("div",{className:"header__flex-wrap"},c.a.createElement("div",{className:"header__sandwich"},c.a.createElement(Me,{isNavOpen:a,toggleSandwich:s})),c.a.createElement("div",{className:"header__logo"},c.a.createElement(u,null)),c.a.createElement("div",{className:"header__nav"},c.a.createElement(g,{isNavOpen:a,closeNavMenu:o}))),c.a.createElement("div",{className:"header__flex-wrap"},i&&c.a.createElement(Te,null),c.a.createElement(ce,{isNavOpen:a,closeNavMenu:o}),c.a.createElement(Ce,{isNavOpen:a,closeNavMenu:o}))))},Re=function(e){var t=e.productId,a=e.styleSize,r=Object(s.c)(J),l=Object(s.c)(Y),o=Object(s.b)(),i=Object(n.useCallback)((function(e,t){var a=l.find((function(e){return e.id===t}));e.target.checked?o(function(e){return{type:"SET_FAVORITES",product:e}}(a)):o({type:"DELETE_FAVORITE",id:t})}),[o,l]),u=Object(n.useMemo)((function(){return r.some((function(e){return e.id===t}))}),[r,t]);return c.a.createElement("label",{className:f()("button-favorite",a),htmlFor:"button-favorite__".concat(t)},c.a.createElement("input",{className:"button-favorite__input",type:"checkbox",id:"button-favorite__".concat(t),checked:u,onChange:function(e){return i(e,t)}}),c.a.createElement("span",{className:"button-favorite__checkmark"}))},xe=function(e){var t=e.price,a=e.discount,r=e.styleSize,l=v().pathname,s=Object(n.useMemo)((function(){return t*(a/100)+t}),[t,a]),o=Object(n.useMemo)((function(){return a>0&&l!==be}),[a,l]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:f()("product-price",r)},"$".concat(t)),o&&c.a.createElement("span",{className:"product-discount"},"$".concat(s)))},Pe=function(e){var t=e.productId,a=e.styleSize,r=e.productPrice,l=Object(s.c)(K),o=Object(s.c)(Y),i=Object(s.b)(),u=Object(n.useCallback)((function(e,t){var a=o.find((function(e){return e.id===t}));e.target.checked?i(P(a,t,r)):i(I(t,r))}),[i,o,r]),m=Object(n.useMemo)((function(){return l.some((function(e){return e.id===t}))}),[l,t]);return c.a.createElement("label",{className:f()("button-to-cart",a),htmlFor:"button-to-cart__".concat(t)},c.a.createElement("input",{className:"button-to-cart__input",type:"checkbox",id:"button-to-cart__".concat(t),checked:m,onChange:function(e){return u(e,t)}}),c.a.createElement("span",{className:"button-to-cart__title"},m?"Remove from cart":"Add to cart"))},Ie=function(e){var t=e.name,a=e.type,r=e.imageUrl,l=e.price,s=e.screen,i=e.capacity,u=e.ram,m=e.discount,d=e.id,p=e.productCardRef,_=Object(n.useMemo)((function(){return s.replace(" inches",'"')}),[s]),E=Object(n.useMemo)((function(){return"".concat(parseInt(i||"32000",10)," MB")}),[i]),f=Object(n.useMemo)((function(){return"".concat(parseInt(u||"1000",10)," MB")}),[u]),b=Object(n.useCallback)((function(){window.scrollTo(0,0)}),[]);return c.a.createElement("article",{className:"product-card",ref:p},c.a.createElement(o.b,{to:"/".concat(me[a],"/").concat(d),className:"product-card__link",onClick:b},c.a.createElement("div",{className:"product-card__photo"},c.a.createElement("img",{className:"product-card__image",src:r,alt:t})),c.a.createElement("p",{className:"product-card__title"},t)),c.a.createElement("div",{className:"product-card__price-container"},c.a.createElement(xe,{price:l,discount:m,styleSize:"product-card__price"})),c.a.createElement("span",{className:"product-card__split-line"}),c.a.createElement("div",{className:"product-card__details"},c.a.createElement("div",{className:"product-card__details-container"},c.a.createElement("span",{className:"product-card__details-title"},"Screen"),c.a.createElement("span",{className:"product-card__details-info"},_)),c.a.createElement("div",{className:"product-card__details-container"},c.a.createElement("span",{className:"product-card__details-title"},"Capacity"),c.a.createElement("span",{className:"product-card__details-info"},E)),c.a.createElement("div",{className:"product-card__details-container"},c.a.createElement("span",{className:"product-card__details-title"},"RAM"),c.a.createElement("span",{className:"product-card__details-info"},f))),c.a.createElement("div",{className:"product-card__buttons-container"},c.a.createElement(Pe,{productId:d,productPrice:l}),c.a.createElement(Re,{productId:d})))},Fe=function(e){var t=e.handleSlide,a=e.direction,r=e.position,l=e.maxPosition,s=a===re,o=a===le,i=0===r,u=r===l,m=Object(n.useCallback)((function(){return t(a)}),[t,a]);return c.a.createElement("button",{type:"button","aria-label":"Slide ".concat(a),className:f()(Object(p.a)({slider__button:!0},"slider__button-".concat(a),!0)),onClick:m,disabled:s&&i||o&&u})},qe=function(e){var t=function(e,t){var a=Object(s.c)(Y),c=Object(n.useState)(0),r=Object(d.a)(c,2),l=r[0],o=r[1],i=Object(n.useState)(0),u=Object(d.a)(i,2),m=u[0],p=u[1],_=Object(n.useState)(0),E=Object(d.a)(_,2),f=E[0],b=E[1],v=Object(n.useMemo)((function(){return m+16}),[m]),h=Object(n.useMemo)((function(){return a.filter((function(e){return 0!==e.discount}))}),[a]),g=Object(n.useMemo)((function(){return a.filter((function(e){return e.age<10&&!e.discount}))}),[a]),N=Object(n.useMemo)((function(){if(!t)return[];var e=t.price,n=t.name;return a.filter((function(t){return t.price-150<=e&&t.price+150>=e&&n!==t.name&&t.type}))}),[a,t]),O=Object(n.useMemo)((function(){switch(e){case ve:return h;case he:return g;case ge:return N;default:return[]}}),[e,h,g,N]),j=Object(n.useMemo)((function(){return v*O.length}),[v,O]),y=Object(n.useMemo)((function(){return f-j+16}),[f,j]),k=Object(n.useMemo)((function(){return f+16<j}),[j,f]),C=Object(n.useMemo)((function(){return f<2*v?v:2*v}),[v,f]),S=Object(n.useCallback)((function(e){null!==e&&p(e.getBoundingClientRect().width)}),[]),w=Object(n.useCallback)((function(e){null!==e&&b(e.getBoundingClientRect().width)}),[]),T=Object(n.useCallback)((function(e){o(e===re?l+C>0?0:l+C:l-C<y?y:l-C)}),[l,y,C]);return{currentProducts:O,position:l,step:2,itemWidth:v,animationDuration:700,handleSlide:T,maxPosition:y,containerWidth:f,productCardRef:S,controlsAreHidden:k,sliderContainerRef:w,frameSize:4}}(e.title,e.selectedProduct),a=t.currentProducts,r=t.position,l=t.animationDuration,o=t.handleSlide,i=t.maxPosition,u=t.controlsAreHidden,m=t.productCardRef,p=t.sliderContainerRef;return c.a.createElement("div",{className:"slider",ref:p},c.a.createElement("div",{className:"slider__container"},c.a.createElement("div",{className:"slider__list",style:{transform:"translateX(".concat(r,"px)"),transition:"transform ".concat(l,"ms")}},a.map((function(e){return c.a.createElement(Ie,Object.assign({key:e.id},e,{productCardRef:m}))})))),u&&c.a.createElement("div",{className:"slider__controls"},c.a.createElement(Fe,{handleSlide:o,direction:re,position:r,maxPosition:i}),c.a.createElement(Fe,{handleSlide:o,direction:le,position:r,maxPosition:i})))},De=function(e){var t=e.title;return c.a.createElement("h2",{className:"section__heading heading"},t)},Le=function(e){var t=e.title,a=e.selectedProduct;return c.a.createElement(c.a.Fragment,null,c.a.createElement(De,{title:t}),c.a.createElement(qe,{title:t,selectedProduct:a}))},Be=function(e){var t=e.slides,a=e.moveSize,n=e.duration;return c.a.createElement("ul",{className:"carousel__list",style:{transform:"translateX(".concat(-a,"px)"),transitionDuration:"".concat(n,"s")}},t.map((function(e){var t=e.id,a=e.name,n=e.src;return c.a.createElement("li",{key:t,className:"carousel__item"},c.a.createElement("img",{className:"carousel__image",src:n,alt:a}))})))},ze=function(e){var t=e.slides,a=e.active,n=e.goToSlide;return c.a.createElement("div",{className:"carousel__dots"},t.map((function(e,t){return c.a.createElement("button",{key:e.id,type:"button","aria-label":"Got to ".concat(t+1," slide"),onClick:function(){return n(t)},className:f()({carousel__dot:!0,"carousel__dot--active":a===t})})})))},He=function(e){var t=e.changeSlide,a=e.direction;return c.a.createElement("button",{type:"button",className:"carousel__btn carousel__btn--".concat(a),"aria-label":"Slide ".concat(a),onClick:function(){return t(a)}})},Ue=[{id:1,name:"phones",src:"./img/showcase-carousel/first.jpg"},{id:2,name:"tablets",src:"./img/showcase-carousel/second.jpg"},{id:3,name:"accessories",src:"./img/showcase-carousel/third.jpg"}],We=function(){var e=Object(n.useState)(0),t=Object(d.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(0),s=Object(d.a)(l,2),o=s[0],i=s[1],u=Object(n.useState)(0),m=Object(d.a)(u,2),p=m[0],_=m[1],E=Ue.length-1,f=Object(n.useRef)(null);Object(n.useEffect)((function(){f.current&&_(f.current.getBoundingClientRect().width)}),[]);var b=Object(n.useCallback)((function(){var e=f.current.getBoundingClientRect().width;return p!==e&&(_(e),r(0),i(0),!0)}),[p]),v=Object(n.useCallback)((function(e){b()||(e===re&&(a<=0?(r(a+p*E),i(E)):(r(a-p),i(o-1))),e===le&&(a>=p*E?(r(0),i(0)):(r(a+p),i(o+1))))}),[a,p,o,E,b]);Object(n.useEffect)((function(){var e=setInterval((function(){return v(le)}),4e3);return function(){return clearInterval(e)}}),[v]);var h=Object(n.useCallback)((function(e){b()||(r(e<o?a-p*(o-e):a+p*(e-o)),i(e))}),[o,a,p,b]);return c.a.createElement("div",{className:"carousel section__carousel"},c.a.createElement("div",{className:"carousel__container",ref:f},c.a.createElement(He,{changeSlide:v,direction:re}),c.a.createElement(He,{changeSlide:v,direction:le}),c.a.createElement(Be,{slides:Ue,moveSize:a,duration:.7}),c.a.createElement(ze,{slides:Ue,active:o,goToSlide:h})))},Ze=function(){var e=we().searchedProducts,t=v(),a=t.history,c=t.search,r=t.location,l=Object(n.useMemo)((function(){return e.reduce((function(e,t){var a=Object(d.a)(e,2),n=a[0],c=a[1];switch(t.type){case de:n.push(t);break;case pe:c.push(t)}return[n,c]}),[[],[]])}),[e]),s=Object(d.a)(l,2),o=s[0],i=s[1],u="All"===c.get("perPage")?e.length:c.get("perPage"),m=Number(c.get("page"))||1,p=Number(u)||Number(ue[0].option),_=Object(n.useMemo)((function(){return m*p}),[m,p]),E=Object(n.useMemo)((function(){return _-p}),[_,p]),f=Object(n.useMemo)((function(){return r.pathname===_e?{numberOfProducts:o.length,currentProducts:o.slice(E,_)}:{numberOfProducts:i.length,currentProducts:i.slice(E,_)}}),[o,i,E,_,r.pathname]),b=f.numberOfProducts,h=void 0===b?0:b,g=f.currentProducts;return{currentProducts:void 0===g?e:g,numberOfProducts:h,changePage:function(e){c.set("page",e.toString()),a.push({search:c.toString()})},queryCondition:Object(n.useCallback)((function(){return c.get("query")?"result":r.pathname===fe?"item":"model"}),[c,r.pathname]),perPage:p,page:m,search:c,phones:o,tablets:i,location:r}},Ge=function(e){var t=e.title,a=Ze(),r=a.phones,l=a.tablets,o=a.queryCondition,i=Object(s.c)(J),u=t.toLowerCase(),m=Object(n.useMemo)((function(){switch(!0){case u.includes(me.phone):return r.length;case u.includes(me.tablet):return l.length;case u.includes(me.favorites):return i.length;default:return 0}}),[r,l,i,u]);return c.a.createElement("p",{className:"products-amount categories__amount"},m," ",o(),1!==m&&"s")},Ve=function(e){var t=e.title,a=e.link;return c.a.createElement("div",{className:"categories__category"},c.a.createElement(o.b,{to:"/".concat(a),className:"categories__link"},c.a.createElement("div",{className:"categories__photo"},c.a.createElement("img",{className:"categories__image",src:"./img/categories/category-".concat(a,".jpg"),alt:a})),c.a.createElement("h3",{className:"categories__title"},t),c.a.createElement(Ge,{title:t})))},Ye=[{title:"Mobile phones",link:"phones"},{title:"Tablets",link:"tablets"},{title:"Accessories",link:"accessories"}],Je=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(De,{title:"Shop by category"}),c.a.createElement("div",{className:"categories"},Ye.map((function(e){var t=e.title,a=e.link;return c.a.createElement(Ve,{key:t,title:t,link:a})}))))},Qe=function(){return c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"visually-hidden"},"React Products Catalog"),c.a.createElement("section",{className:"section"},c.a.createElement(We,null)),c.a.createElement("section",{className:"section"},c.a.createElement(Le,{title:ve})),c.a.createElement("section",{className:"section"},c.a.createElement(Je,null)),c.a.createElement("section",{className:"section"},c.a.createElement(Le,{title:he})))},Ke=function(e){var t,a=e.label,n=e.link,r=e.isLast,l=(null===(t=Object(s.c)(Y).find((function(e){return e.id===a})))||void 0===t?void 0:t.name)||a;return c.a.createElement("li",{className:"breadcrumbs__item"},c.a.createElement("span",{className:"breadcrumbs__arrow"}),r?c.a.createElement("span",{className:"breadcrumbs__last"},l):c.a.createElement(o.c,{to:n,className:"breadcrumbs__link",activeClassName:"breadcrumbs__link--active"},l))},$e=function(){var e=Object(i.g)(),t=Object(n.useMemo)((function(){return e.pathname.split("/").slice(1)}),[e]),a=Object(n.useMemo)((function(){return t.reduce((function(e,t){return[].concat(Object(R.a)(e),["".concat(e,"/").concat(t)])}),[])}),[t]);return c.a.createElement("ul",{className:"breadcrumbs section__breadcrumbs"},c.a.createElement(o.c,{to:"/",className:"breadcrumbs__item breadcrumbs__home",activeClassName:"breadcrumb__link--active"}),a.map((function(e,n){return c.a.createElement(Ke,{label:t[n],link:e,key:e,isLast:n===a.length-1})})))},Xe=function(){var e=Ze().search,t=we().searchedProducts,a=Object(n.useMemo)((function(){return t.length>0}),[t]);return c.a.createElement("div",{className:"container"},c.a.createElement("section",{className:"section"},a?c.a.createElement(c.a.Fragment,null,!e.get("query")&&c.a.createElement(c.a.Fragment,null,c.a.createElement($e,null),c.a.createElement(De,{title:je})),a&&c.a.createElement(Ge,{title:me.favorites}),c.a.createElement("div",{className:"products section__products"},t.map((function(e){return c.a.createElement(Ie,Object.assign({key:e.id},e))})))):c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"section__no-favorites-info"},"Favorites list is empty.",c.a.createElement("br",null),"Please, take a look at our new models."),c.a.createElement(Le,{title:he}))))},et=function(){var e=Object(i.f)();return c.a.createElement("button",{type:"button",className:"button-back",onClick:function(){return e.goBack()}},"Back")},tt=function(e){var t=e.images,a=e.currentImageLink,n=e.title,r=e.handleClick;return c.a.createElement("div",{className:"gallery__thumbnails"},t.map((function(e,t){return c.a.createElement("div",{className:f()({gallery__thumbnail:!0,"gallery__thumbnail--active":a.includes(e)}),key:e},c.a.createElement("a",{href:"#!",className:"gallery__link",onClick:r},c.a.createElement("img",{src:e,alt:"".concat(n," - ").concat(t+1),className:"gallery__img"})))})))},at=function(e){var t=e.images,a=e.title,r=Object(n.useState)(""),l=Object(d.a)(r,2),s=l[0],o=l[1];Object(n.useEffect)((function(){o(t[0])}),[t]);return c.a.createElement("div",{className:"gallery"},c.a.createElement(tt,{images:t,title:a,handleClick:function(e){e.preventDefault();var t=e.target.src;t&&o(t)},currentImageLink:s}),c.a.createElement("div",{className:"gallery__photo gallery__photo--lg"},c.a.createElement("img",{src:s,alt:a,className:"gallery__img"})))},nt=function(e){var t=e.display,a=e.hardware,n=e.storage,r=e.android,l=e.battery,s=e.sizeAndWeight;return c.a.createElement("div",{className:"product__specs product__specs--text-md"},c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"Screen"),c.a.createElement("span",{className:"product__spec-info"},t.screenSize)),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"Resolution"),c.a.createElement("span",{className:"product__spec-info"},t.screenResolution)),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"Processor"),c.a.createElement("span",{className:"product__spec-info"},a.cpu)),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"Storage"),c.a.createElement("span",{className:"product__spec-info"},n.flash||"32000MB")),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"RAM"),c.a.createElement("span",{className:"product__spec-info"},n.ram||"1000 MB")),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"OS"),c.a.createElement("span",{className:"product__spec-info"},r.os)),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"Battery"),c.a.createElement("span",{className:"product__spec-info"},l.type)),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"Weight"),c.a.createElement("span",{className:"product__spec-info"},s.weight)))},ct=function(e){var t=e.description,a=e.additionalFeatures;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"product__heading"},"About"),c.a.createElement("p",{className:"product__paragraph"},t),a&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{className:"product__subheading"},"Features"),c.a.createElement("p",{className:"product__paragraph"},a)))},rt=function(e){var t=e.display,a=e.storage,n=e.battery;return c.a.createElement("div",{className:"product__specs"},c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"Screen"),c.a.createElement("span",{className:"product__spec-info"},t.screenSize)),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"Resolution"),c.a.createElement("span",{className:"product__spec-info"},t.screenResolution)),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"Battery"),c.a.createElement("span",{className:"product__spec-info"},n.type)),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"RAM"),c.a.createElement("span",{className:"product__spec-info"},a.ram||"1000 MB")))},lt=function(){return c.a.createElement("div",{className:"container"},c.a.createElement("section",{className:"section"},c.a.createElement("div",{className:"lds-spinner"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null))))},st=function(){var e=Object(s.b)(),t=v().match,a=Object(n.useState)(),r=Object(d.a)(a,2),l=r[0],o=r[1],i=Object(s.c)(Q),u=Object(s.c)(Y),m=Object(s.c)(X),p=Object(n.useMemo)((function(){return u.find((function(e){return e.id===t.params.productId}))}),[u,t]);return Object(n.useEffect)((function(){var a;e((a=t.params.productId,function(){var e=Object(j.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Z(!0)),e.prev=1,e.next=4,A(a);case 4:n=e.sent,t(U(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(z("Error occurred when loading data"));case 11:t(Z(!1));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())),o(p)}),[e,t,p]),c.a.createElement("div",{className:"container"},m||!l?c.a.createElement(lt,null):c.a.createElement("article",{className:"product"},c.a.createElement("section",{className:"section product__section"},c.a.createElement($e,null),c.a.createElement(et,null),c.a.createElement(De,{title:i.name}),c.a.createElement("div",{className:"product__grid"},c.a.createElement("div",{className:"product__column"},c.a.createElement("div",{className:"product__gallery"},c.a.createElement(at,{images:i.images,title:i.name}))),c.a.createElement("div",{className:"product__column"},c.a.createElement("div",{className:"product__flex-wrap"},c.a.createElement(xe,{price:l.price,discount:l.discount,styleSize:"".concat(ke," product__price")}),c.a.createElement("span",{className:"product__id"},"ID: ".concat(l.id))),c.a.createElement("div",{className:"product__flex-wrap product__buttons"},c.a.createElement(Pe,{productId:l.id,styleSize:"button-to-cart--lg",productPrice:l.price}),c.a.createElement(Re,{productId:l.id,styleSize:"button-favorite--lg"})),c.a.createElement(rt,i)),c.a.createElement("div",{className:"product__column"},c.a.createElement(ct,i)),c.a.createElement("div",{className:"product__column"},c.a.createElement("h3",{className:"product__heading"},"Tech specs"),c.a.createElement(nt,i)))),c.a.createElement("section",{className:"section"},c.a.createElement(Le,{title:ge,selectedProduct:l}))))},ot=function(e){for(var t=e.total,a=e.perPage,n=e.page,r=e.changePage,l=[],s=1;s<=Math.ceil(t/a);s+=1)l.push(s);return c.a.createElement("div",{className:"pagination section__pagination"},c.a.createElement("button",{type:"button","aria-label":"Go left",className:"pagination__button pagination__button--left",onClick:function(){return r(n-1)},disabled:1===n}),c.a.createElement("ul",{className:"pagination__list"},l.map((function(e){return c.a.createElement("li",{className:"pagination__item",key:e},c.a.createElement("button",{type:"button",onClick:function(){return r(e)},className:f()({pagination__button:!0,"pagination__button--active":n===e})},e))}))),c.a.createElement("button",{type:"button","aria-label":"Go right",className:"pagination__button pagination__button--right",onClick:function(){return r(n+1)},disabled:n===l.length}))},it=function(e){var t=e.isListOpen;return c.a.createElement("span",{className:f()({dropdown__arrow:!0,"dropdown__arrow--up":t})})},ut=function(e){var t=e.list,a=e.heading,r=function(e,t){var a=Object(n.useState)(!1),c=Object(d.a)(a,2),r=c[0],l=c[1],s=Object(n.useState)(e[0].option),o=Object(d.a)(s,2),i=o[0],u=o[1],m=Object(n.useCallback)((function(){return l(!1)}),[]),p=v(),_=p.search,E=p.history;Object(n.useEffect)((function(){r?window.addEventListener("click",m):window.removeEventListener("click",m)}),[r,m]);var f=Object(n.useCallback)((function(){return l(!r)}),[r]),b=Object(n.useCallback)((function(e){u(e),t===oe&&_.set("sortBy",e),t===se&&("All"===e&&_.set("perPage",e),_.set("perPage",e)),_.delete("page"),E.push({search:_.toString()})}),[E,_,t]);return{toggleList:f,selectedOption:i,isListOpen:r,handleSort:b}}(t,a),l=r.toggleList,s=r.selectedOption,o=r.isListOpen,i=r.handleSort,u=Object(n.useCallback)((function(e,t){e.preventDefault(),i(t)}),[i]);return c.a.createElement("div",{className:"dropdown"},c.a.createElement("p",{className:"dropdown__heading"},a),c.a.createElement("div",{className:"dropdown__wrapper"},c.a.createElement("button",{type:"button",className:"dropdown__header",onClick:l},s,c.a.createElement(it,{isListOpen:o})),c.a.createElement("ul",{className:f()({dropdown__list:!0,"dropdown__list--is-open":o})},t.map((function(e){var t=e.option;return c.a.createElement("li",{key:t},c.a.createElement("a",{href:"#!",className:f()({"dropdown__list-item":!0,"dropdown__list-item--active":s===t}),onClick:function(e){return u(e,t)}},t))})))))},mt=function(){var e=Ze(),t=e.currentProducts,a=e.numberOfProducts;return c.a.createElement(c.a.Fragment,null,a?c.a.createElement("div",{className:"products section__products"},t.map((function(e){return c.a.createElement(Ie,Object.assign({key:e.id},e))}))):c.a.createElement("p",{className:"section__no-products-info"},"No products with such title...try again."))},dt=function(){var e=Ze(),t=e.numberOfProducts,a=e.changePage,r=e.perPage,l=e.page,s=e.search,o=v().location,i=Object(n.useMemo)((function(){switch(o.pathname){case _e:return{pageHeading:Ne,productAmountTitle:me.phone};case Ee:return{pageHeading:Oe,productAmountTitle:me.tablet};default:return{pageHeading:"Products",productAmountTitle:"Models"}}}),[o]),u=i.pageHeading,m=i.productAmountTitle;return c.a.createElement("div",{className:"container"},c.a.createElement("section",{className:"section"},!s.get("query")&&c.a.createElement(c.a.Fragment,null,c.a.createElement($e,null),c.a.createElement(De,{title:u})),0!==t&&c.a.createElement(Ge,{title:m}),!s.get("query")&&c.a.createElement("div",{className:"section__dropdowns"},c.a.createElement(ut,{heading:oe,list:ie}),c.a.createElement(ut,{heading:se,list:ue})),c.a.createElement(mt,null),t>r&&c.a.createElement(ot,{total:t,perPage:r,page:l,changePage:a})))},pt=function(){return c.a.createElement("div",{className:"container"},c.a.createElement("h3",{style:{textAlign:"center",textTransform:"uppercase",opacity:"0.4",marginTop:"40px"}},"Oops... Something went wrong here"),c.a.createElement("h4",{style:{textAlign:"center",opacity:"0.4",marginTop:"20px"}},"The link you followed probably broken"),c.a.createElement("img",{alt:"Guess i'll die",src:"https://i.kym-cdn.com/photos/images/original/001/285/460/8b6.jpg",style:{width:"100%",height:"100%",marginTop:"30px"}}))},_t=function(e){var t=e.id,a=e.name,r=e.type,l=e.imageUrl,i=e.price,u=e.discount,m=Object(s.b)(),d=Object(s.c)(K),p=Object(n.useMemo)((function(){return d.find((function(e){return e.id===t}))}),[d,t]),_=Object(n.useCallback)((function(){return m(I(t,i))}),[m,t,i]),E=Object(n.useCallback)((function(){return m(q(t,i))}),[m,t,i]),f=Object(n.useCallback)((function(){return m(D(t,i))}),[m,t,i]),b=Object(n.useMemo)((function(){return 1===p.quantity}),[p.quantity]);return c.a.createElement("div",{className:"cart-item"},c.a.createElement("button",{type:"button",className:"cart-item__delete-btn","aria-label":"Delete product",onClick:_}),c.a.createElement(o.b,{to:"/".concat(me[r],"/").concat(t),className:"cart-item__link"},c.a.createElement("img",{className:"cart-item__image",src:l,alt:a})),c.a.createElement("p",{className:"cart-item__title"},a),c.a.createElement("div",{className:"cart-item__quantity-container"},c.a.createElement("button",{type:"button",className:"cart-item__subtract-btn","aria-label":"Add product quantity",onClick:f,disabled:b}),c.a.createElement("span",{className:"cart-item__quantity"},p.quantity),c.a.createElement("button",{type:"button",className:"cart-item__add-btn","aria-label":"Delete product quantity",onClick:E})),c.a.createElement(xe,{price:i,discount:u}))},Et=function(e){var t=e.cartItems,a=Object(s.c)($),r=Object(s.b)(),l=Object(n.useMemo)((function(){return t.reduce((function(e,t){return t.quantity+e}),0)}),[t]),i=Object(n.useCallback)((function(){return r(F())}),[r]);return c.a.createElement("div",{className:"cart-total"},c.a.createElement("div",{className:"cart-total__info-container"},c.a.createElement("span",{className:"cart-total__price"},"$",a),c.a.createElement("span",{className:"cart-total__info"},"Total for"," ",l," ","items")),c.a.createElement(o.b,{to:"/checkout",className:"cart-total__button",onClick:i},"Checkout"))},ft=function(){var e=Object(s.c)(K),t=Object(n.useMemo)((function(){return e.length>0}),[e]);return c.a.createElement("div",{className:"container"},c.a.createElement("section",{className:"section"},t?c.a.createElement(c.a.Fragment,null,c.a.createElement(et,null),c.a.createElement(De,{title:ye}),c.a.createElement("div",{className:"cart__container"},c.a.createElement("ul",{className:"cart__items"},e.map((function(e){return c.a.createElement(_t,Object.assign({key:e.id},e))}))),c.a.createElement(Et,{cartItems:e}))):c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"section__no-favorites-info"},"Cart is empty.",c.a.createElement("br",null),"Please, take a look at our new models."),c.a.createElement(Le,{title:he}))))},bt=function(){return c.a.createElement("div",{className:"container"},c.a.createElement("section",{className:"section"},c.a.createElement($e,null),c.a.createElement(De,{title:"Accessories"}),c.a.createElement("h3",{style:{textAlign:"center",marginBottom:"30px",marginTop:"30px"}},"Sorry, no products in this category yet"),c.a.createElement("img",{src:"./img/empty-cart.png",alt:"Empty cart",style:{display:"block",maxWidth:"200px",margin:"0 auto"}})))},vt=function(){return c.a.createElement("div",{className:"container"},c.a.createElement("section",{className:"section"},c.a.createElement("div",{className:"checkout"},c.a.createElement("div",{className:"checkout__container"},c.a.createElement("h2",{className:"checkout__title"},"Thank you for your purchase"),c.a.createElement("h3",{className:"checkout__subtitle"},"Have a nice day!")))))},ht=function(){var e=Object(s.b)(),t=Object(i.g)();return Object(n.useEffect)((function(){e(function(){var e=Object(j.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Z(!0)),e.prev=1,e.next=4,M();case 4:a=e.sent,t(S(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(z("Error occurred when loading data"));case 11:t(Z(!1));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(n.useEffect)((function(){window.scrollTo(0,0)}),[t]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ae,null),c.a.createElement("main",{className:"main"},c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:["/","/home"],component:Qe}),c.a.createElement(i.a,{exact:!0,path:["/phones","/tablets"],component:dt}),c.a.createElement(i.a,{exact:!0,path:"/accessories",component:bt}),c.a.createElement(i.a,{exact:!0,path:"/favorites",component:Xe}),c.a.createElement(i.a,{exact:!0,path:"/cart",component:ft}),c.a.createElement(i.a,{exact:!0,path:"/checkout",component:vt}),c.a.createElement(i.a,{exact:!0,path:"/:productType/:productId",component:st}),c.a.createElement(i.a,{component:pt}))),c.a.createElement(m,null))};a(43),a(44);l.a.render(c.a.createElement(s.a,{store:ne},c.a.createElement(o.a,null,c.a.createElement(ht,null))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.01788bfa.chunk.js.map